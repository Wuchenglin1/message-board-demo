# message-board-demo新增功能：

#1.关于评论套娃
我去看了达达子的评论套娃QAQ，模仿着做的一个
设计思路：
向dao.comment中传入要查询的父评论,通过查找评论中pid=id(即表中的父id等于传入父评论的id来查询他的子评论)，
再将子评论存入一个结构体中再进行递归调用，将子评论传入再进行查询子id，当然这样递归调用只会将一条分支查到底了
之后才会开始另一分支的查询，如果直接打印消息是没得问题的，但是我是将评论存入一个map中的，可能看起来就没有那么
美观了。
关于查看留言的评论套娃，我是设计的两张表，所以如果直接用dao.comment中查找评论的方法肯定有问题，所以我进行了
一点小小的改动，将留言的id记住，在评论中查找postid=留言id的一级留言(我设计的表中将所有对留言的pid设置为0方
便查找)，当然这些一级留言肯定不止一条，所以得需要用到for rows.next(){},然后在循环赋值中将一级留言传入查看
评论套娃的函数中，然后将每一个一级评论下的分支(map)存入slice中，传回到api中遍历输出

#2.密保功能
新增功能1：增加了密保功能，用户修改密码需要填写正确的密保答案才能够修改

#3.将密码加盐后hash处理

#4.检测账号密码以及发表留言长度问题

#5.私密留言以及管理员权限的设计思路（没有做！有时间一定会自己做的！）：
私密留言在表上创建一个新的字段（如int类型的private）
如果为私密留言就设置为1，如果不为私密留言则为0
在查找评论的时候添加条件private = 0；
管理员权限可以设置一个新的鉴权(如jwt鉴权，看是否为)
再在MySQL中创一张新的管理员表，添加管理员名单
(都只是我自己的一个思路不一定正确
o(╥﹏╥)o真的没时间做了！我只想要
达达子的奶茶！)
